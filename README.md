# 자바 스윙으로 만들 로그라이크 게임 (제작중)

rpg요소가 있는 로그라이크 게임을 제작중임

로그라이크 게임 답게 랜덤으로 던전, 적이 생성되고, 캐릭터가 사망 시 모든 것이 초기화됨.

던전을 탐험하며 최종적으로 10일 버텨내는 것이 게임의 목표

많은 적의 종류와 무기 종류를 넣어서 랜덤적인 요소를 강조시킬 것임

---

## 기록

▼초기 구상
![인게임 구상](https://github.com/BrainlessMan901/003/assets/159418229/ddaf4128-66bb-409f-acc2-91f2c5fb56ce)

캐릭터 움직임에 따라 배경이 바뀌는 기능을 만들었음.

▼프레임 내에서의 좌표가 아니라 게임 내의 좌표를 만들었음. 캐릭터를 따라가게 하는 카메라의 좌표에 -1을 곱하고 게임 내의 좌표를 더해서 구현했음.

![jumpgame2024-02-1106-31-39-ezgif com-video-to-gif-converter](https://github.com/BrainlessMan901/003/assets/159418229/acea8d65-62d1-4b53-a06e-008bf0b5c261)

투사체를 구현하는것이 진짜 어려웠음. 

시작 좌표가 캐릭터의 무기좌표이고 목표 좌표가 마우스 클릭지점인데, 이 두 좌표만 가지고 일정한 방향, 일정한 속도로 나아가는 투사체를 만들어야 했음.

또한 자바 스윙은 좌표가 정수 단위로 존재해서 소수점이 있는 미세한 움직임에 대한 계산이 불가능했음.

4방향/8방향의 투사체를 이용하는 것이 쉬운 방법이었겠지만, 정확히 마우스 포인터위치에 투사체를 날리고 싶었음.

일단 어떤 방법을 쓰든 제곱근을 이용해야 하고 제곱근을 이용하면 소수를 써야 하는데 소수 좌표는 프레임에 구현이 되지 않았음.

이 문제로 오랜시간 동안 고민을 했는데 생각보다 엄청 단순한 방법을 생각해냈음.

그냥 소수점으로 계산되는 실수형 변수를 만들고 좌표 계산을 한 뒤에 강제형변환을 하여 정수를 씌우면 되는 거였음.

어차피 계산되고 이미지가 그려지는 것은 1초에 10번이라 픽셀 하나 정도의 차이는 정말 티도 안났음.

그 다음에도 생각 할 것이 있었는데, 투사체가 날아가는 방향은 두 좌표사이의 기울기로 쉽게 구할 수 있었는데, 그대로 날아가게 하니까 기울기 값에 따라서 투사체의 속도가 다르게 계산되었음

그래도 어찌저찌 해결해서 구현에 성공함

![image](https://github.com/BrainlessMan901/003/assets/159418229/cd3c1bfa-e2e6-4093-adb2-85e17881cae0)    ![image](https://github.com/BrainlessMan901/003/assets/159418229/48ece157-8ec2-4335-ad68-f35f9c64fe03)

![jumpgame2024-02-1106-31-392-ezgif com-video-to-gif-converter](https://github.com/BrainlessMan901/003/assets/159418229/b2b61eab-ec4b-40f6-aa1c-eb16b254b99e)

